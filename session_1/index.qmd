---
title: Aggregate Demand
subtitle: Macroeconomics - EF01
author: Year 2022-2023
format: 
  revealjs
aspectratio: 169
slide-level: 3
latex:
---

### Sessions Program

- Session 1: introduction / reminders on macro
- Session 2: aggregate demand
- Session 3: aggregate supply
- Session 4: macroeconomic fluctuations
- Session 5: monetary policy
- Session 6: unconventional monetary policies

---

\tableofcontents

# Nominal / Real 

---

### Nominal / Real GDP

Let's start with some notations[^period]. In this course:

- $Y_t$: *Real GDP*: number of consumption baskets produced by the economy
- $P_t$: *Price level*: price of a given consumption basket
- $\boxed{\pi_t = \frac{P_t-P_{t-1}}{P_{t-1}}}$: *Inflation rate*

With these definitions, the *nominal GDP*, i.e. the production sold at market prices is simply $P_t Y_t$.

[^period]: We use $t$ to denote different periods in time.

---

### Nominal Interest Rate

To save across periods, agents have access to riskfree bonds yielding:

- $i_t$: nominal interest rate between $t$ and $t+1$

In an agent invests savings $S_t$ in period $t$, she gets $S_t (1+i_t)$  in period $t+1$

---

### Nominal / Real Interest Rate

What determines the decision to save more or less?

Let's consider a simple thought experiment:

- an agent foregoes $1$ unit of consumption in period $t$ worth $P_t$ at market prices. Her wealth is now $P_t$
- invested at nominal rate $i_t$ this wealth becomes $P_t (1+i_t)$ in period $t+1$
- using this new wealth she can afford to buy $\frac{P_t (1+i_t)}{P_{t+1}}$ consumption goods at the new market price $P_{t+1}$

Recognizing the ratio $1+\pi_{t+1} = \frac{P_{t+1}}{P_t}$ we conclude that each unit of consumption today can be exchanged for $\frac{1+i_t}{1+\pi_{t+1}}$.

- it is more beneficial when nominal interest rate is high
- it is less beneficial when inflation is high

---

### Real Interest Rates

We define the __real interest rate__ $r_t$ by:

$$\boxed{1+r_t = \frac{1+i_t}{1+\pi_{t+1}}}$$

It measures how beneficial it is to trade current consumption goods for future consumption goods.

To simplify calculations, we often use the logarithmic approximation[^logarithm] :

$$\boxed{r_t = i_t - \pi_{t+1}}$$

This relation is sometimes called the __Fisher equation__.

[^logarithm]: In logarithm (recall $\log(1+x)\approx x$). This approximation is valid because $i_t$ and $\pi_{t+1}$ are typically a few percents.

::: notes

Here we need some kind of concrete exercise.

:::

---

### Small Checkup

::: columns

:::: {.column width=40%}

![](assets/../../session_1/assets/check.jpg)

::::

:::: {.column width=60%}

#### Quizz 1

Assume nominal interest rate is 4% and inflation 5%. What is the real interest rate (in percents)?

1. 1
2. -1
3. 4/5
4. 5/6

. . . 

#### Quizz 2

The Fisherian effect is the tendency of inflation to rise and cancel any increase in nominal rates by the central bank. This is more likely to happen if:

1. real rate is independent from nominal variables
2. prices are rigid
3. inflation is high
4. debt is high

...

::::

:::


# Demand

## Components of Demand

### The Components of Demand

\framesubtitle{Where does demand comes from?}

In a market economy, spending decisions are made by:

- Consumers
- Firms
- Exporters and Importers
- Government
 
Government spending is decided by policy maker. Because it can be chosen independently from general income level, it is fully __autonomous__. 

In this course, we will also take the decisions of exporters and importers as exogenous in order to focus on consumers and firms.[^closed_economy]

[^closed_economy]: For our purposes, we could also make the stronger assumption that economy is __closed__, that is exports and imports are zero.

---

\begin{center}
\includegraphics[height=0.5\textheight]{assets/hypnotic.jpg}
\end{center}

#### Our main goal today

Establish why and how each of the demand components depend on \emph{real aggregate income} $Y$ and \emph{real interest rate} $r$.


## Consumers


### Consumption Decisions

::: columns

:::: column

```{=beamer}
\begin{overprint}
```

\onslide<1>

![](assets/why_do_save_today.png){height=25%}

\onslide<2,3>

![](assets/why_do_save.png){height=50%}

\onslide<4->

![](assets/why_do_save_r.png){height=50%}
```{=beamer}
\end{overprint}
```

::::

:::: column

Why do consumers save?

. . . 

- To substitute present goods by future goods.

. . . 

What determines the substitution?

. . . 

- The (real) interest rate

. . . 

What else determines the substitution?

. . . 

- Income today and tomorrow

::::

:::

---

### Consumption Decisions

\framesubtitle{Intuition}

Given their preferences, how much consumers decide to spend is determined by:

- Their income today ( $\color{green}{Y_t}$ )
- Their *expected* income in the future ( $Y_{t+1}, Y_{t+2}, ...$ )

\ \ \ 

Given their expected income profile the decision to consume can be seen as an arbitrage between consumption today and consumption tomorrow.

This arbitrage depends on the real intertemporal interest rate ( $\color{red}{r_t}$ ).

The two short term determinants of consumption should then be $\color{green}{Y_t}$ and $\color{red}{r_t}$.


---

### Consumers: Ricardian and Keynesian households

Classically, we make the difference between two kinds of agents:

::: columns

:::: column

#### Ricardian Households
Agents who can freely reallocate consumption intertemporally.

\ \ 


Ricardian households choose not to consume more today, in order to consume more tomorrow.

::::
:::: column


#### Keynesian Households
Agents whose consumption in the current period is limited by a binding credit constraint. Either they can't borrow at all or the amount they can borrow is limited today.

\ \ 

Keynesian Households consume today as much as they can.

::::
:::

. . .

\ 

We'll study both kinds of agents in turn, starting with ricardian agents.

---




### Ricardian Consumers

\framesubtitle{Microfoundation}

\subsubsection{Ricardian Consumers}

Let's model the intertemporal choice of a ricardian household. They are rational decision takers, but have a preference for the present. To assume exposition, we assume they live for two periods only.

Denote by $C_1$ and $C_2$ consumption today and tomorrow.

A representative consumer maximizes: $$U(C_1, C_2) = \log(C_1) + \beta \log (C_2)$$

where $\beta<1$ is a discount factor, denoting the fact that consumption today is preferred. $\beta$ is typically close to 1.

Of course, this optimization is not free, it is *subject to* a budget constraint.

---


### Ricardian Consumers

\framesubtitle{Deriving the budget constraint (1)}


Denote today's price level by $P_1 = 1$ and future price level by $P_2$.

Denote current nominal income by $P_1 Y_1$ and future nominal income by $P_2 Y_2$

Assume our consumer chooses freely to consume $C_1$ in period 1 at price $P_1$ for a total amount $C_1 P_1$

The rest from today[^footnote], i.e. $Y_1 P_1 - C_1 P_1$ is saved at nominal rate $1+i$ and added to tomorrow’s income. 

Tomorrow's budget constraint is:

$$C_2 P_2 \leq (\underbrace{Y_1 P_1 - C_1 P_1}_{\text{Savings}}) (1+i) + Y_2 P_2$$

[^footnote]: Note that the formula is exactly the same whether the agent saves $(C_1 P_1 < Y_1 P_1)$ or borrows $(C_1 P_1 > Y_1 P_1)$ in period 1.

---

### Consumers

\framesubtitle{Deriving the budget constraint (2)}

The last equation can be reordered as:

$$C_1 P_1 (1+i) + C_2 P_2 \leq Y_1 P_1 (1+i) + Y_2 P_2$$

Divide by $P_2$

$$C_1 \frac{P_1}{P_2} (1+i) + C_2 \leq Y_1 \frac{P_1}{P_2} (1+i) + Y_2$$

And recognize $1+\pi = \frac{P_2}{P_1}$

$$C_1 \frac{1+i}{1+\pi}  + C_2 \leq Y_1 \frac{1+i}{1+\pi} + Y_2$$

---

### Consumers

\framesubtitle{Intertemporal Budget Constraint}

Eventually, the intertemporal budget constraint reads:

$$C_1 (1 + r) +C _2 \leq Y_1 (1 + r) + Y_2$$

*Right hand side* is income and is a given of the optimization. It corresponds to total wealth.

In the *left hand side*: $(1+r)$ can be understood as the price of today's consumption goods.

What is the effect of higher real interest rate ?

- Consumption today is more expensive: __substitution effect__ -> higher consumption of future good, less consumption in the present
- Today’s income is more valuable: it relaxes the budget constraint creating a direct __wealth effect__ -> more consumption of both goods

---

### Consumers

\framesubtitle{Optimal Consumption}

A consumer solves $$\begin{aligned}\max_{C_1, C_2} & & U(C_1, C_2) \\ s.t. & & C_1 (1 + r) +C _2 \leq Y_1 (1 + r) + Y_2  \end{aligned}$$

This is a *constrained optimization problem*, identical to those seen in microeconomics.

Using your math skills[^math_skills], we obtain the optimal (desired consumption) in period $1$:

$$\boxed{C_1 = \frac{1}{1+\beta} \left( Y_1 + \frac{1}{1+r} Y_2 \right)}$$

[^math_skills]: See Exercise 2.

---

### Ricardian households

How do we read this optimal formula?
$$C_1 = \frac{1}{1+\beta}\underbrace{ \left( Y_1 + \frac{1}{1+r} Y_2 \right) }_{\text{Permanent Income} }$$

```{=beamer}
\begin{overprint}
```
\onslide<1>

- The permanent income is the actualized value of all income perceived by the consumer over her optimization horizon.
    - it is essentially the *value* of lifetime income
    - similar to the valuation of a stream of dividend

\onslide<2>

- A ricardian households spends in period 1 a *fraction* of her lifetime income
    - this comes from a motive to *smooth consumption* over time implied by utility function
    - in the two periods case, the fraction is $\frac{1}{1+\beta}\approx \frac{1}{2}$
    - if there were more than two periods, the fraction would be even smaller


```{=beamer}
\end{overprint}
```
---

### Response to interest rate

From the last formula, we can see how ricardian households change their consumption in response to a change $\color{red}\Delta r$ in real interest rates.
Then consumption increases by $\color{red}{\Delta C}$ such that:
$$C_1 + {\color{red}{\Delta C}} = \frac{1}{1+\beta} \left( Y_1  + \frac{1}{1+r+\color{red}\Delta r} Y_2 \right)$$

This yields the approximate formula[^admit]:

$$\boxed{\frac{\Delta C}{\Delta r} = -\frac{1}{1+\beta} \frac{1}{\left(1+r\right)^2} Y_2}$$

In line with the intuition: consumption today is lower when real interest rate is higher.

[^admit]: To obtain the formula, one needs to take a Taylor expansion, w.r.t. $\Delta r$. Knowing how to do it is not required.

---

### Temporary income shock

How do ricardian households react to income shocks?

Suppose income increases temporarily (in period $1$) by $\color{green}{\Delta Y}$. Then consumption increases by $\color{green}{\Delta C}$ such that:
$$C_1 + {\color{green}{\Delta C}} = \frac{1}{1+\beta}\underbrace{ \left( Y_1 + {\color{green}{\Delta Y}} + \frac{1}{1+r} Y_2 \right) }_{\text{Permanent Income} }$$

We get a marginal propensity to consume (out of a temporary shock) equal to[^full_version]:

$$MPC^{\text{ricardian}} = \frac{\Delta C}{\Delta Y} = \frac{1}{1+\beta}<<1$$


[^full_version]: We used to periods to simplify exposition. In practical NK models, permanent income is $\sum_t \frac{1}{(1+r)^t} Y_t$ and the fraction consumed in the first period would be $(1-\beta) \approx 0$ which is very close to 0.

---

### Keynesian Households

\subsubsection{Keynesian Consumers}


Intrinsically keynesian agents have the same preferences over consumption as ricardian households.[^letter_to_professor]

::: columns

:::: {.column width=80%}

Ideally they would like to spend some fraction of their permanent income but are facing a limit to the amount they can borrow.

::::
:::: {.column width=20%}

![](assets/../bank_no.jpg){width=50px}

::::

:::

A pure keynesian agent (who cannot borrow at all) faces the simple constraint $C_1 \leq Y_1$ and since she consumes as much as possible the consumption is just: $$C_1 = Y_1$$

Her marginal propensity to consume is:

$$MPC^{\text{keynesian}} = 1$$

[^letter_to_professor]: *Dear professor, is the above expression a convoluted way to say that both agents are humans? Yes.*

---

#### Quizz 3
Which of the following agents is more likely to be keynesian?

1. a student who is considering a loan offer from the bank to cover university fees
2. a middle-class household reducing food expenditure to be able to repay an outstanding loan
3. a low-income worker in the United States, who doesn't have any credit card
4. a stock-market trader

#### Quizz 4
Assume that the yearly payment to repay a loan $L$ is $L\left(1-\frac{1}{1+r}\right)$
What could be the constraint for a keynesian agent who is allowed to borrow only up the point where repayments are equal to a fraction $\lambda=33\%$ of his income?

1. $C_1 \leq Y_1$
2. $C_1 \leq \lambda Y_1$
3. $C_1 \leq \lambda Y_1 \left(1-\frac{1}{1+r}\right)$
4. $(C_1 - Y_1) \left(1-\frac{1}{1+r}\right) \leq \lambda Y_1$

---

### Aggregate consumption


To know the behaviour of aggregate consumption, in particular the aggregate marginal propensity to consume, we must know the proportion of ricardian and keynesian households.

::: columns

:::: column

![DALL-E-2: A keynesian dog, during the 1929 recession, as a black and white photograph.](assets/keynesian_dog.png){width=60%}

::::

:::: column

![DALL-E-2: A ricardian cat, playing with money.](assets/ricardian_cat.png){width=60%}

::::

:::

---

Let's have a look at the MPC distribution for France.[^mpc_1_source]

![Self-Reported MPC from Transitory Income Shock](assets/mpc_1.png){width=60%}


[^mpc_1_source]: From <u>From Fiscal Policy and MPC Heterogeneity</u>,  Tullio Jappelli and Luigi Pistaferri, American Economic Journal: Macroeconomics, 2014

---

![Average MPC by Cash-on-Hand Percentiles](assets/mpc_2.png){width=60%}

. . .

Apparently MPC is well predicted by Cash-in-hand (amount of money left to household after having made all compulsory payments).

---

![Wealth distribution](assets/mpc_3.png){width=60%}

---

![Wealth decomposition](assets/mpc_4.png){width=60%}

. . . 

Agents in the middle of the wealth distribution have a mortgage, whose interests leaves very little to spend after payments. They  have lower cash-in-hand hence higher marginal propensity to consume (than rich agents).

---

### Wealthy hand to mouth agents

We have just seen that agents in the middle of the wealth distribution, hold a wider proportion of wealth in illiquid assets (housing)

- Their cash in hand (available for immediate purchase) is reduced. A sizable fraction of ther income goes into repaying their loan...).
- They have higher MPC
- They also react to interest rates changes (notably those who have floating interest rates)
- In a very influential paper, “Monetary Policy According to HANK”, 2018, Kaplan, Moll and Violante, stress out the role of "wealthy hand to mouth" and the need to take their existence to evaluate the influence of monetary policies.

## Producers

### Producers

\framesubtitle{Intuition}

How does the demand of producers for investment goods depend on interest rate?

. . . 

Take an hypothetical firm.

. . . 

It needs capital to produce.

. . . 

To buy more capital, the firm can borrow at a real rate $r$. It will need to repay the loan after production as taken place. Real rate is called the external cost of funds.

. . . 

Intuitively, the lower the cost of funds, the easier it is to borrow, and the more capital goods, the firm will seek to purchase.

So __demand for investment by firms is decreasing in the interest rate__.

This reasoning is correct when return on physical investment is decreasing, let's prove it.

---


### Producers

\framesubtitle{Easy proof}

A firm produces $f(K)$ using capital $K$. We assume decreasing marginal return on production[^marginal_returns], i.e. $f^{\prime\prime}(K)<0$ (And of course $f^{\prime}(K)> 0$).

For simplicity, assume the firm borrows a quantity $I$ to finance $K$ i.e. $K=I$. After production it needs to repay $I(1+r)$ in the next period.

The profit maximization program reads:$\max \pi = f(I) - I (1+r)$

When the firm is free to borrow as much as it wants, the optimality condition is just:
$$f^{\prime}(I) = 1+r$$

This defines implicitly $I(r)$. Since $f^{\prime}(I)$ is decreasing in $I$, $I(.)$ is a decreasing function of $r$.

[^marginal_returns]: If marginal returns were not decreasing the result could actually be false.

---

### Reality Check

\framesubtitle{Do firms respond to interest rate?}

::: columns

:::: column

![](assets/investment.png)

::::

:::: column

- In the last years, it looks like, the investment channel of demand hasn’t worked so well.

- In the last two crises, and after, interest rates were very low. And investment low too.


::::

:::

. . . 

There are many reasons for that:

- Uncertainty about economic outcomes
    - Risk averse firms facing uncertain value of production produce less
- Even though the real rate is low, the financing conditions faced by the firms might be different
    - The banks are risk averse too


<!-- 
### Producers

Beyond cost of funding, can you think of other reasons why investment that would reduce investment by firms

- Some preexisting capital belongs to the firm, meaning there isn’t always a need to borrow
- Not all borrowing is short term (and needs to be repaid just after production)
- Many firms are credit constrained
    - In practice their ability to borrow is limited by the preexisting capital they have which they pledge as “collateral”

 -->

# Deriving Aggregate Demand

## The IS Curve

Our work on the behaviour of consumers and firms, allows us to write.
$$\begin{aligned}
C(Y,r) & = & C_0 + C_Y Y + C_r r \\
I(r) & = & I_0 + I_r r
\end{aligned}$$

where $I_r<0$ and where the values $C_Y>0$ and $C_r<0$ depend on the proportion of ricardian and keynesian households.

So, if we take $G$ and $NX$ as exogenous, the sum of all spending components is:

is: $$C(Y,r) + I(r) + G + NX$$

. . . 

Is that Aggregate Demand? No!

---

### IS Curve

In macroeconomics, the demand side of the whole economy, is characterized by the relation:

$$Y=C(Y,r) + I(r) + G + NX$$

which links *implicitly* production and real interest rate.

This relation is called __Investment-Saving__ equilibrium (IS curve) because it captures an intertemporal tradeoff (through the real interest rate).

It corresponds to an equilibrium on the market for goods and services, determined by spending preferences, with perfectly elastic production.

---

### IS Curve

\framesubtitle{Some comments on the IS curve}

Some remarks:

- the microfounded IS relation involves only real quantities
- it implies only rational decisions from consumers and firms
- demand can be microfounded without the need for money or prices

Interestingly, the microfoundation of demand shows that it is perfectly consistent with the new classical approach.

There is no controversy in the profession about the existence of the demande curve. There is disagreement about:

- the aggregate marginal propensity to consume and the fiscal multiplier
- the supply curve...

<!-- 

### IS Curve [TODO: remove these uninteresing calculations]

So far we have justified the following dependences for the spending components of GDP:
$$C(Y,r) + I(r) + G + NX$$

At the equilibrium gdp and interest rate we must have:
$$Y_0 = C_0 + I_0 + G_0 + NX_0$$
We can differentiate the equation above to get:

$$Y_0 + \Delta Y = C_0 + C_Y \Delta Y + C_r \Delta r + I_r \Delta r + G_0 + NX_0 + \Delta S$$

Where $\Delta S= \Delta G + \Delta NX$ captures the shock to demand. After substracting the constants we get a linear approximation:
$$\Delta Y = C_Y \Delta Y + C_r \Delta r + I_r \Delta r + \Delta S$$

--- -->

### IS Curve

\framesubtitle{Log-linearization}

We can differentiate the IS curve to get:
$$\Delta Y = C_Y \Delta Y + C_r \Delta r + I_r \Delta r$$

It is common to rewrite this equation in log deviations as follows. Write

$$\frac{\Delta Y}{Y} = C_Y \frac{\Delta Y}{Y} + \frac{C_r}{Y}\Delta r + \frac{I_r}{Y}\Delta r$$

then set $y=\frac{\Delta Y}{Y}$ and $\Delta r = r-r^{\star}$ to get the equation describing the IS curve in logarithms:
$$y= -\sigma (r-r^{\star}) $$

where $$\sigma = \frac{-\left(\frac{C_r}{Y}+\frac{I_r}{Y}\right)}{1-C_Y}>0$$.

---

### IS Curve


In what follows we will consider a slightly modified version of the IS curve

$$\boxed{y_t = -\sigma (r_r - r^{\star}) + {\color{red}\theta_t}}$$

where $\sigma = \frac{-\left(\frac{C_r}{Y}+\frac{I_r}{Y}\right)}{1-C_y}>0$ and $\color{red}{\theta_t}$ is a demand shock, which captures all shocks that  are external to the model or that we neglected for the sake of simplicity.

For instance, future income of consumers have dropped out from all equations. If there is a positive change in consumers expectations (optimism) we would consider it as a change in $\theta_t$.

In the same way a rise in government spending, is an autonomous shift in the IS curve, which we capture by a shift in $\theta_t$.

<!-- ---

Exercise to intepret $\sigma$

::: columns

:::: column

Recall the IS curve
$$\boxed{y_t = -\sigma (r_r - r^{\star}) + \theta_t}$$

where $\sigma = \frac{-\left(\frac{C_r}{Y}+\frac{I_r}{Y}\right)}{1-C_y}$ and $\theta_t$ is a demand shock

::::

:::: column
#### Quizz 5
Find the wrong statement among the following ones

- to be written
- Higher MPC implies higher elasticity of demand to income shocks
    - for keynesian households
- Higher elasicity to interest rates means higher rsponse of demand to monetary policy
    - for ricardian households and firms

::::

::: -->

## The Role of the Central Bank

### Monetary Policy

The main objective of the central bank consists in *stabilizing inflation* $\pi$ around its target $\pi^{\star}$

. . . 

- It achieves this objective by *influencing demand* in response to business cycles fluctuations

. . . 

- Demand is affected by *real* interest rate $r$
  - more precisely ricardian households and firms react to real interest rate

### Monetary Policy

- In practice, the central bank sets the *nominal* interest rate $i$

  - And because inflation does not follow interest rate 1 to 1\footnote{remember the Fisher equation $r_t = i_t-\pi_{t+1}$}, the CB is able to influence real interest rate

- To simplify, we assume the CB indirectly chooses the *real* interest rate to whichever level it wants

- We can describe the response function of the central bank following Romer 2002 as:
$$\boxed{r_r = r^{\star} + \gamma (\pi_t - \pi^{\star})}$$

. . . 

- Typically CBs raise interest rate to reduce inflation, so $\gamma>0$

## Aggregate Demand

### Aggregate Demand

Now that we are equiped with the (IS) curve:
$$y_t = -\sigma (r_t - r^{\star}) + \theta_t$$

And the central bank's policy response (MP)
$$r_t = r^{\star} + \gamma (\pi_t -\pi)$$

We can susbtitute out real interest rate to get an aggregate demand (AD) equation
$$\boxed{y_t = -\sigma \gamma (\pi_t - \pi^{\star}) + \theta_t}$$

where $\theta_t$ is the demand shock.

This curve represents the equilibrium on the goods and services markets, taking into account the central bank's decision rule.

### Aggregate Demand Curve

::: columns

:::: column


![](assets/as_ad.png)

::::

:::: column

Aggregate Demand (AD): $$y_t = \theta_t - \sigma \gamma (\pi_t - \overline{\pi})$$

Note how aggregate demand $y_t$ is a decreasing function of inflation (and prices)\footnotemark[13]. 


::::

:::

\footnote[13]{In some textbooks you will find aggregate prices $P_t$ on the y-axis instead of inflation. Because, $P_{t-1}$ is given and inflation is $\pi_t= P_t / P_{t-1}$ it is actually equivalent.}

### Exective Summary

\framesubtitle{To Remember}

- Agregate demand can be microfounded by relying on rational optimization by consumers and firms
  - Keynesian households have a high marginal propensity to consume
  - Ricardian households have a low marginal propensity to consume and react (negatively) to real interest rate
  - Firms invest less when real interest rate is higher
- To stabilize inflation, the central bank stimulates demand by modifying the real interest rate. It does so indirectly by setting the nominal interest rate.


### Learning guide

\framesubtitle{To understand}

- what's the real interest rate
- what are ricardian and keynesian households
- how do ricardian households optimize intertemporal consumption
  - writing the budget constraint
  - performing the constrained optimization[^bonus]
- what is the optimization program of an investing firm
- how to derive the Agregate Demand curve given
  - the IS curve
  - the response of the central bank

[^bonus]: This is not strictly required.

### Coming Next

__Aggregate Supply__: why is it upward sloping in the short term?